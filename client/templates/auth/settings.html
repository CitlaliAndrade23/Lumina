{% extends "navbar.html" %}

{% block title %}Mi Perfil - Lumina{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}">
{% endblock %}

{% block content %}
<main class="settings-page">
  <div class="settings-container">

    <!-- Columna izquierda: título y texto -->
    <section class="settings-header">
      <h1 class="settings-title">Mi Perfil <span>(Settings)</span></h1>
      <p class="settings-subtitle">
        Administra tu información personal, correo y contraseña.
        Estos cambios solo los puedes ver tú cuando estás logueado.
      </p>

      <div class="settings-badge">
        <span class="settings-badge-label">Usuario activo</span>
        <span class="settings-badge-id">ID #{{ user.id }}</span>
      </div>
    </section>

    <!-- Columna derecha: tarjetas -->
    <section class="settings-content">

      <!-- Tarjeta: resumen de usuario -->
      <article class="settings-card settings-summary">
        <h2>Resumen de tu cuenta</h2>
        <p><strong>Nombre Completo:</strong> {{ user.fname }} {{ user.lastname }}</p>
        <p><strong>Email (Login):</strong> {{ user.email }}</p>
      </article>

      <!-- Tarjeta: formulario -->
      <article class="settings-card settings-form-card">
        <h2>Editar información</h2>

        <form action="{{ url_for('update_profile') }}" method="POST" class="settings-form">
          <div class="mb-3">
            <label for="fname" class="form-label">Nuevo nombre</label>
            <input type="text" id="fname" name="fname"
                   value="{{ user.fname }}"
                   class="form-control" required>
          </div>

          <div class="mb-3">
            <label for="lastname" class="form-label">Nuevo apellido</label>
            <input type="text" id="lastname" name="lastname"
                   value="{{ user.lastname }}"
                   class="form-control">
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">Nuevo email</label>
            <input type="email" id="email" name="email"
                   value="{{ user.email }}"
                   class="form-control" required>
          </div>

          <div class="mb-3">
            <label for="password" class="form-label">Nueva contraseña <span>(opcional)</span></label>
            <input type="password" id="password" name="password"
                   class="form-control"
                   placeholder="Déjalo vacío si no quieres cambiarla">
          </div>

          <button type="submit" class="btn btn-lumina-primary settings-btn">
            Guardar cambios
          </button>
        </form>
      </article>

    </section>
  </div>
</main>

  <!-- FOOTER -->
<footer class="lumina-footer py-4">
  <div class="container text-center">
    <!-- Logo -->
    <div class="footer-logo mb-3">
      <img src="{{ url_for('static', filename='img/LogoLumina.png') }}" 
           alt="Logo Lumina" 
           class="footer-logo-img">
    </div>

   <!-- Redes sociales -->
<div class="social-icons d-flex justify-content-center gap-3">
  <a href="#" aria-label="Facebook">
    <img src="{{ url_for('static', filename='img/iconos1.png') }}" 
         alt="Facebook" 
         class="social-icon-img">
  </a>
  <a href="#" aria-label="Instagram">
    <img src="{{ url_for('static', filename='img/iconos2.png') }}" 
         alt="Instagram" 
         class="social-icon-img">
  </a>
  <a href="#" aria-label="Tiktok">
    <img src="{{ url_for('static', filename='img/iconos3.png') }}" 
         alt="Tiktok" 
         class="social-icon-img">
  </a>
</div>

</footer>
{% endblock %}
