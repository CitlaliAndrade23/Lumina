{% extends "navbar.html" %}

{% block title %}Detalles - {{ producto.nombre }}{% endblock %}

{% block content %}

{# ‚îÄ‚îÄ‚îÄ Config por slug para im√°genes y colores ‚îÄ‚îÄ‚îÄ #}
{% set config_por_slug = {
  'bar':   {'img1':'img/bar1.png',   'img2':'img/bar2.png',   'c1':'#0044ff', 'c2':'#ff0000'},
  'banos': {'img1':'img/banos.jpg',  'img2':'img/banos2.png', 'c1':'#ff0000', 'c2':'#572364'},
  'open':  {'img1':'img/open.jpg',   'img2':'img/open2.png',  'c1':'#0044ff', 'c2':'#ff0080'},
  'closed':{'img1':'img/closed.jpg', 'img2':'img/closed2.png','c1':'#ff0000', 'c2':'#572364'},
  'twich': {'img1':'img/twich1.png', 'img2':'img/twich2.png', 'c1':'#572364', 'c2':'#ff0000'},
  'exit':  {'img1':'img/exit1.png',  'img2':'img/exit2.png',  'c1':'#0044ff', 'c2':'#20FA07'}
} %}

{# Toma la config seg√∫n el slug; si no hay, usa su imagen base #}
{% set cfg = config_por_slug.get(producto.slug, {
  'img1': producto.imagen, 'img2': producto.imagen, 'c1':'#0044ff','c2':'#ff0000'
}) %}

{# ===== BLOQUE PRODUCTO + WAVE (con degradado) ===== #}
<div class="product-wrapper">

  <div class="product" id="product">
    <!-- IMAGEN PRINCIPAL -->
    <img src="{{ url_for('static', filename=cfg['img1']) }}"
         alt="{{ producto.nombre }}"
         class="productImg">

    <!-- DETALLES DEL PRODUCTO -->
    <div class="productDetails">
      <h1 class="productTitle">{{ producto.nombre }}</h1>
      <h2 class="productPrice">${{ producto.precio }}</h2>

      <p class="productDesc">
        Precios y disponibilidad v√°lidos en tienda en l√≠nea.
        Hacemos nuestro mejor esfuerzo para mostrar inventario y ubicaci√≥n del producto
        en tienda lo m√°s actualizado posible. Sin embargo, pudieran existir ligeras
        diferencias en tienda versus lo que est√° en l√≠nea. Todas las im√°genes mostradas son con fines ilustrativos.
      </p>

      <!-- COLORES / VARIANTES -->
<div class="colors">
  <div class="color"
       data-img="{{ url_for('static', filename=cfg['img1']) }}"
       data-color="{{ cfg['c1'] }}"
       style="background-color: {{ cfg['c1'] }};">
  </div>
  <div class="color"
       data-img="{{ url_for('static', filename=cfg['img2']) }}"
       data-color="{{ cfg['c2'] }}"
       style="background-color: {{ cfg['c2'] }};">
  </div>
</div>


           <!-- TAMA√ëOS -->
      <div class="sizes">
        <div class="size active" data-medida="40 X 30">40 X 30</div>
        <div class="size" data-medida="30 X 20">30 X 20</div>
        <div class="size" data-medida="30 X 10">30 X 10</div>
      </div>

      <!-- COMPRAR / AGREGAR (requiere login por la ruta protegida /agregar) -->
      {% if session.get('logged_in') %}
        <div class="actions" style="display:flex; gap:12px; align-items:center;">
          <!-- Agregar al carrito -->
        <form method="post"
      action="{{ url_for('agregar', producto_slug=producto.slug) }}"
      class="js-add-to-cart-form">
    <input type="hidden" name="qty" value="1">
    <input type="hidden" name="medida" id="medidaInput" value="40 X 30">
    <!-- üëá aqu√≠ guardaremos "color|||img/archivo.png" -->
    <input type="hidden" name="color" id="colorInput" value="">
    <button class="btn btn-outline-primary">Agregar al carrito</button>
</form>



          
          <!-- Comprar ahora: ir al carrito -->
<a href="{{ url_for('carrito') }}" class="btn btn-primary">
    Comprar ahora
</a>

        </div>
      {% else %}
        <div class="alert alert-warning mt-2">Debes iniciar sesi√≥n para comprar.</div>
        <a class="btn btn-outline-primary" href="{{ url_for('login', next=request.path) }}">Iniciar sesi√≥n</a>
        <a class="btn btn-primary" href="{{ url_for('signup', next=request.path) }}">Registrarse</a>
      {% endif %}

    </div>  {# /productDetails #}

  </div>  {# /product #}

  <!-- Onda decorativa inferior que ‚Äúrecorta‚Äù el degradado -->
  <div class="wave-bottom">
    <svg viewBox="0 0 1440 500" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
      <path
        d="M0,320 C480,480 960,160 1440,320 L1440,500 L0,500 Z">
      </path>
    </svg>
  </div>

</div> {# /product-wrapper #}

<!-- (Opcional) Panel de pago decorativo (overlay) -->
<div class="payment" id="paymentModal" style="display:none;">
  <h1 class="payTitle">Informaci√≥n personal</h1>
  <label>Nombre de usuario</label>
  <input type="text" placeholder="Cosme Fulanito" class="payInput">
  <label>N√∫mero telef√≥nico</label>
  <input type="text" placeholder="+52 614 123 4567" class="payInput">
  <label>Correo electr√≥nico</label>
  <input type="text" placeholder="cosme@gmail.com" class="payInput">

  <h1 class="payTitle">N√∫mero de tarjeta</h1>
  <input type="password" class="payInput" placeholder="Card Number">

  <div class="cardInfo">
    <input type="text" placeholder="D√≠a" class="payInput sm">
    <input type="text" placeholder="Mes" class="payInput sm">
    <input type="text" placeholder="A√±o" class="payInput sm">
  </div>

  <div class="cardIcons">
    <img src="{{ url_for('static', filename='img/visa.png') }}" width="40" alt="Visa" class="cardIcon">
    <img src="{{ url_for('static', filename='img/master.png') }}" width="40" alt="Mastercard" class="cardIcon">
  </div>

  <button class="payButton">¬°Pagar!</button>
  <span class="close" id="closePay">X</span>
</div>

 <!-- Secci√≥n de Rese√±as y Materiales -->
<section class="tabs-section">
  <div class="tabs">
    <button class="tab-button active" data-tab="rese√±as">Rese√±as</button>
    <button class="tab-button" data-tab="materiales">Materiales</button>
  </div>

  <div class="tab-content active" id="rese√±as">
    <h2 class="reviews-title">Opiniones de nuestros clientes</h2>
    <div class="reviews-container">
      <div class="review-card light">
        <div class="review-header">
          <img src="{{ url_for('static', filename='img/user1.jpg') }}" alt="Usuario" class="review-avatar">
          <div class="review-name">Carlos G.</div>
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        </div>
        <p class="review-text">
          ‚Äú¬°Me encant√≥ mi letrero! Ped√≠ uno con mi frase favorita y qued√≥ id√©ntico al dise√±o que imaginaba.
                La luz es muy suave y el color rosa ne√≥n se ve incre√≠ble en mi habitaci√≥n.‚Äù
        </p>
      </div>

      <div class="review-card dark">
        <div class="review-header">
          <img src="{{ url_for('static', filename='img/user2.jpg') }}" alt="Usuario" class="review-avatar">
          <div class="review-name">Mariana L.</div>
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
        </div>
        <p class="review-text">
          ‚ÄúExcelente calidad y atenci√≥n. Me ayudaron a ajustar el tama√±o para mi local y el resultado fue justo lo que necesitaba.
            Tard√≥ un poco m√°s de lo esperado, pero vali√≥ totalmente la pena.‚Äù
        </p>
      </div>

      <div class="review-card light">
        <div class="review-header">
          <img src="{{ url_for('static', filename='img/user3.jpg') }}" alt="Usuario" class="review-avatar">
          <div class="review-name">Andrea P.</div>
          <div class="review-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
        </div>
        <p class="review-text">
          ‚ÄúS√∫per recomendado. El equipo de Lumina entendi√≥ perfecto mi idea. El letrero ‚ÄúDream Big‚Äù qued√≥ precioso y le dio vida a mi estudio.
            ¬°Sin duda volver√© a pedir otro!‚Äù
        </p>
      </div>
    </div>
  </div>

  <div class="tab-content" id="materiales">
    <h2 class="reviews-title">Materiales y calidad</h2>
    <p class="materials-text">
      Nuestros letreros est√°n fabricados con materiales de alta durabilidad y acabado profesional:
    </p>
    <ul class="materials-list">
      <li>Acr√≠lico resistente a rayones</li>
      <li>Iluminaci√≥n LED de bajo consumo</li>
      <li>Montura de aluminio ligero</li>
      <li>Protecci√≥n contra humedad y polvo (IP65)</li>
    </ul>
  </div>
</section>

  <!-- FOOTER -->
<footer class="lumina-footer py-4">
  <div class="container text-center">
    <!-- Logo -->
    <div class="footer-logo mb-3">
      <img src="{{ url_for('static', filename='img/LogoLumina.png') }}" 
           alt="Logo Lumina" 
           class="footer-logo-img">
    </div>

   <!-- Redes sociales -->
<div class="social-icons d-flex justify-content-center gap-3">
  <a href="#" aria-label="Facebook">
    <img src="{{ url_for('static', filename='img/iconos1.png') }}" 
         alt="Facebook" 
         class="social-icon-img">
  </a>
  <a href="#" aria-label="Instagram">
    <img src="{{ url_for('static', filename='img/iconos2.png') }}" 
         alt="Instagram" 
         class="social-icon-img">
  </a>
  <a href="#" aria-label="Tiktok">
    <img src="{{ url_for('static', filename='img/iconos3.png') }}" 
         alt="Tiktok" 
         class="social-icon-img">
  </a>
</div>

</footer>


<!-- CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/detalles1.css') }}">

<script src="{{ url_for('static', filename='js/detalles1.js') }}"></script>

{% endblock %}
